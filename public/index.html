<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="apple-touch-icon" sizes="57x57" href="/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
    <link href="css/watson-bootstrap-style.css" rel="stylesheet">
    <link href="css/browser-compatibility.css" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">

    <title>Texto Traducido a Voz</title>

     <!-- Custom styles for this template -->
     <link href="/basic.css" rel="stylesheet">

</head>
  <body >
    <div class="container">
        <h1 class="mt-4">Texto a Voz </h1>
        <p>Esto es un ejemplo de como usar el servicio de <strong >TextToSpeech de IBM </strong> en un servicio.</p>
        <div class="row mb-3">
            <div class="col-md-8 themed-grid-col">
                <form id="formTextToSpeech">
                    <div class="form-group">
                      <label for="formLabelVoces">Voz</label>
                      <select class="form-control" id="formSelectVoces" name="voice"></select>
                    </div>
                    <input id="formHiddenAccept" name="accept" type="hidden" value="audio/mp3">
                    <div class="form-group">
                      <label for="formLabelTexto">Texto a Convertir</label>
                      <textarea class="form-control" id="formTextareaTexto" name="text" rows="3"></textarea>
                    </div>
                    <div class="form-group ">
                        <div class="col-sm-10">
                          <button type="submit" class="btn btn-primary">Sintetizar</button>
                        </div>
                    </div>

                  </form>
            </div>
            <div class="col-md-4 themed-grid-col">
                <div class="media">
                    <audio controls id="playerTextVoz" type="audio/mpeg">
                    </audio>
                  </div>
            </div>
        </div>
    </div>
     <!-- Step 2 Section-->
  <div class="container">
    <!-- Two columns of inputs -->
    <!-- First column of inputs -->
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12">
        <h2>Translate Text</h2>
      </div>
    </div>
    <div class="row">
      <!-- .col-lg-12 -->
      <div class="col-lg-6 col-md-6 col-sm-6">
        <h3>Input</h3>
        <p class="help-block">Enter or paste text from a passage.</p>
        <div class="form-group row" style="margin-bottom: 0px !important;">
          <div class="col-lg-12">
            <div class="dropdown">
              <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenuInput"
                data-toggle="dropdown" aria-expanded="true">
                Choose Language
                <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1" id="ulSourceLang">
              </ul>
            </div>
          </div>
        </div>
        <!-- .col-lg-6 -->
        <!-- Tab panes -->
        <div class="well">
          <form class="form-horizontal">
            <div role="tabpanel">
              <!-- Nav tabs -->
              <ul class="nav nav-tabs" role="tablist">
                <li role="presentation" class="active"><a href="#home" aria-controls="home" role="tab"
                    data-toggle="tab">Text</a></li>
                <button style="margin: 0em; padding: 0em;" class="btn btn-secondary pull-right" type="button" id="sourceTargetLangSwitch">â‡„</button>
              </ul>
              <div class="hr-tab"></div>
              <fieldset>
                <div class="form-group row">
                  <div class="col-lg-12">
                    <div class="tab-content">
                      <div role="tabpanel" class="tab-pane active" id="home">
                        <div id="character-limit-warning"
                        style="pointer-events: none;
                              display: none;
                              justify-content: center;
                              align-content: center;
                              flex-direction: column;
                              text-align: center;
                              position: absolute;
                              left: 1em;
                              right: 1em;
                              top: 0em;
                              bottom: 0.25em;
                              background-color: rgba(255,255,255,0.75)">
                        You have reached the character limit (10k), sign up for more at
                        <a style="pointer-events: auto;" href="https://www.ibm.com/insert-url-here">www.ibm.com/insert-url-here</a></div>
                        <textarea></textarea>
                        <span style="position: absolute; right: 1.5em; bottom: 0.5em;" class="input-counter"></span>
                      </div>
                      <div role="tabpanel" class="tab-pane" id="profile">
                        <textarea disabled="disabled">Example of Rest API</textarea>
                      </div>
                    </div>
                  </div>
                  <!-- .col-lg-12 -->
                </div>
                <!-- .form -->
              </fieldset>
          </form>
        </div>
        <!-- /.well -->
      </div>
      <!-- /.tabpanel -->
      <div class="form-group row">
      </div>
      <!-- /.form -->
      <div id="resetSpan">
        <img src="images/reset.svg" class="icon" style="height: 20px;"><a href="/">Reset</a>
      </div>
      </div>
    <!-- /.row -->
    <!-- Second column of inputs -->
      <div class="col-lg-6 col-md-6 col-sm-6">
        <h3>Output</h3>
        <p class="help-block">Copy output from this field to clipboard.</p>
        <div class="row">
          <div class="col-lg-12">
            <div class="dropdown">
              <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenuOutput"
                data-toggle="dropdown" aria-expanded="true">
                Choose Language
                <span class="caret"></span>
              </button>
              <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1" id="ulTargetLang">
              </ul>
            </div>
          </div>
        </div>
        <!-- Tab panes -->
        <div class="well">
          <form class="form-horizontal">
            <div role="tabpanel">
              <!-- Nav tabs -->
              <ul class="nav nav-tabs" role="tablist">
                <li role="presentation" class="active"><a href="#home2" aria-controls="home" role="tab"
                    data-toggle="tab">Text</a></li>
              </ul>
              <div class="hr-tab"></div>
              <fieldset>
                <div class="form-group row">
                  <div class="col-lg-12">
                    <div class="tab-content">
                      <div role="tabpanel" class="tab-pane active" id="home2">
                        <textarea></textarea>
                      </div>
                      <div role="tabpanel" class="tab-pane" id="profile2">
                        <textarea disabled="disabled">Example of JSON</textarea>
                      </div>
                    </div>
                  </div>
                  <!-- .col-lg-12 -->
                </div>
                <!-- .form -->
              </fieldset>
          </form>
        </div>
        <!-- /.well -->
      </div>
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
    <script src="js/css_browser_selector.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <script type="text/javascript"
      src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="demo.js"></script>
    <!-- Scripts Areas -->
    <script>
        (function() {
            // Obtener todas las voces que estan disponibles en el servicio.
            // luego las muestra todas y seleciona la voz de enrique por defecto.
          $.getJSON("/api/voces")
            .done(function( data ) {
              $.each( data.voices, function( i, voice ) {
                var optionHtml = voice.name == "es-ES_EnriqueV3Voice" ? "<option selected></option>" : "<option></option>";
                $("#formSelectVoces" ).append($(optionHtml).val(voice.name).html(voice.description))
              });
            });
        
            // Enviar el formulario.
            $("#formTextToSpeech").on( "submit",function(e) {
                e.preventDefault();
                var formData = $(this).serialize();
                var url = "/api/sintetizar?"+formData;
                var player = $("#playerTextVoz");
                player.attr("src",url);
                player.trigger('load');
            });

        })();
    </script>
   
  </body>
</html>